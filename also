-- Roblox Server Inject 99 Malam - PRO EDITION
-- UI Professional dengan Tema Modern Dark
-- Script by Pottasium - Enhanced Version

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local GuiService = game:GetService("GuiService")

local player = Players.LocalPlayer
local mouse = player:GetMouse()

-- Warna tema profesional modern
local colors = {
    -- Background gradients
    primaryBg = Color3.fromRGB(15, 15, 20),
    secondaryBg = Color3.fromRGB(25, 25, 35),
    cardBg = Color3.fromRGB(30, 30, 45),
    
    -- Accent colors
    primaryAccent = Color3.fromRGB(0, 150, 255),
    secondaryAccent = Color3.fromRGB(100, 200, 255),
    successAccent = Color3.fromRGB(0, 255, 150),
    dangerAccent = Color3.fromRGB(255, 80, 80),
    warningAccent = Color3.fromRGB(255, 200, 0),
    
    -- Text colors
    primaryText = Color3.fromRGB(255, 255, 255),
    secondaryText = Color3.fromRGB(200, 200, 200),
    mutedText = Color3.fromRGB(150, 150, 150),
    
    -- Glass effect
    glassBg = Color3.fromRGB(255, 255, 255),
    glassTransparency = 0.1
}

-- Buat ScreenGui dengan konfigurasi fullscreen
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ServerInject99MalamPro"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true  -- Fullscreen untuk mobile
screenGui.DisplayOrder = 999
screenGui.Parent = player.PlayerGui

-- Full Screen Background dengan gradient
local fullScreenFrame = Instance.new("Frame")
fullScreenFrame.Name = "FullScreenFrame"
fullScreenFrame.Size = UDim2.new(1, 0, 1, 0)
fullScreenFrame.Position = UDim2.new(0, 0, 0, 0)
fullScreenFrame.BackgroundColor3 = colors.primaryBg
fullScreenFrame.BorderSizePixel = 0
fullScreenFrame.Parent = screenGui

-- Gradient background
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, colors.primaryBg),
    ColorSequenceKeypoint.new(0.5, colors.secondaryBg),
    ColorSequenceKeypoint.new(1, colors.primaryBg)
}
gradient.Rotation = 45
gradient.Parent = fullScreenFrame

-- Animated background particles
local function createBackgroundParticles()
    for i = 1, 20 do
        local particle = Instance.new("Frame")
        particle.Size = UDim2.new(0, math.random(2, 6), 0, math.random(2, 6))
        particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
        particle.BackgroundColor3 = colors.primaryAccent
        particle.BackgroundTransparency = math.random(70, 90) / 100
        particle.BorderSizePixel = 0
        particle.Parent = fullScreenFrame
        
        local particleCorner = Instance.new("UICorner")
        particleCorner.CornerRadius = UDim.new(0.5, 0)
        particleCorner.Parent = particle
        
        -- Floating animation
        local floatTween = TweenService:Create(particle, 
            TweenInfo.new(math.random(3, 8), Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1), 
            {Position = UDim2.new(math.random(), 0, math.random(), 0)}
        )
        floatTween:Play()
        
        spawn(function()
            wait(math.random(10, 20))
            particle:Destroy()
        end)
    end
end

-- Main Frame dengan glassmorphism effect
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 400, 0, 280)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -140)
mainFrame.BackgroundColor3 = colors.glassBg
mainFrame.BackgroundTransparency = colors.glassTransparency
mainFrame.BorderSizePixel = 0
mainFrame.Parent = fullScreenFrame

-- Glassmorphism corner
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 20)
corner.Parent = mainFrame

-- Glassmorphism border
local border = Instance.new("UIStroke")
border.Color = colors.primaryAccent
border.Transparency = 0.7
border.Thickness = 1
border.Parent = mainFrame

-- Enhanced shadow effect
local shadow = Instance.new("ImageLabel")
shadow.Name = "Shadow"
shadow.Size = UDim2.new(1, 20, 1, 20)
shadow.Position = UDim2.new(0, -10, 0, -10)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
shadow.ImageColor3 = Color3.new(0, 0, 0)
shadow.ImageTransparency = 0.3
shadow.ZIndex = mainFrame.ZIndex - 1
shadow.Parent = fullScreenFrame

-- Glow effect
local glow = Instance.new("ImageLabel")
glow.Name = "Glow"
glow.Size = UDim2.new(1, 40, 1, 40)
glow.Position = UDim2.new(0, -20, 0, -20)
glow.BackgroundTransparency = 1
glow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
glow.ImageColor3 = colors.primaryAccent
glow.ImageTransparency = 0.8
glow.ZIndex = mainFrame.ZIndex - 2
glow.Parent = fullScreenFrame

-- Title Bar dengan gradient
local titleBar = Instance.new("Frame")
titleBar.Name = "TitleBar"
titleBar.Size = UDim2.new(1, 0, 0, 50)
titleBar.Position = UDim2.new(0, 0, 0, 0)
titleBar.BackgroundColor3 = colors.cardBg
titleBar.BackgroundTransparency = 0.1
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 20)
titleCorner.Parent = titleBar

-- Title gradient
local titleGradient = Instance.new("UIGradient")
titleGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, colors.primaryAccent),
    ColorSequenceKeypoint.new(1, colors.secondaryAccent)
}
titleGradient.Rotation = 90
titleGradient.Parent = titleBar

-- Title Text dengan efek
local titleText = Instance.new("TextLabel")
titleText.Name = "TitleText"
titleText.Size = UDim2.new(1, -60, 1, 0)
titleText.Position = UDim2.new(0, 20, 0, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "99 MALAM INJECT PRO"
titleText.TextColor3 = colors.primaryText
titleText.TextScaled = true
titleText.Font = Enum.Font.GothamBold
titleText.TextStrokeTransparency = 0.5
titleText.TextStrokeColor3 = colors.primaryAccent
titleText.Parent = titleBar

-- Pro badge
local proBadge = Instance.new("Frame")
proBadge.Name = "ProBadge"
proBadge.Size = UDim2.new(0, 40, 0, 20)
proBadge.Position = UDim2.new(0, 10, 0, 15)
proBadge.BackgroundColor3 = colors.warningAccent
proBadge.BorderSizePixel = 0
proBadge.Parent = titleBar

local proBadgeCorner = Instance.new("UICorner")
proBadgeCorner.CornerRadius = UDim.new(0, 10)
proBadgeCorner.Parent = proBadge

local proText = Instance.new("TextLabel")
proText.Name = "ProText"
proText.Size = UDim2.new(1, 0, 1, 0)
proText.Position = UDim2.new(0, 0, 0, 0)
proText.BackgroundTransparency = 1
proText.Text = "PRO"
proText.TextColor3 = Color3.new(0, 0, 0)
proText.TextScaled = true
proText.Font = Enum.Font.GothamBold
proText.Parent = proBadge

-- Close Button dengan hover effect
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 10)
closeButton.BackgroundColor3 = colors.dangerAccent
closeButton.BorderSizePixel = 0
closeButton.Text = "×"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.GothamBold
closeButton.Parent = titleBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 15)
closeCorner.Parent = closeButton

-- Main Content dengan layout yang lebih baik
local contentFrame = Instance.new("Frame")
contentFrame.Name = "ContentFrame"
contentFrame.Size = UDim2.new(1, -40, 1, -70)
contentFrame.Position = UDim2.new(0, 20, 0, 60)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

-- Status Card
local statusCard = Instance.new("Frame")
statusCard.Name = "StatusCard"
statusCard.Size = UDim2.new(1, 0, 0, 60)
statusCard.Position = UDim2.new(0, 0, 0, 10)
statusCard.BackgroundColor3 = colors.cardBg
statusCard.BackgroundTransparency = 0.2
statusCard.BorderSizePixel = 0
statusCard.Parent = contentFrame

local statusCardCorner = Instance.new("UICorner")
statusCardCorner.CornerRadius = UDim.new(0, 15)
statusCardCorner.Parent = statusCard

-- Status Text dengan icon
local statusText = Instance.new("TextLabel")
statusText.Name = "StatusText"
statusText.Size = UDim2.new(1, -20, 1, 0)
statusText.Position = UDim2.new(0, 20, 0, 0)
statusText.BackgroundTransparency = 1
statusText.Text = "🟢 Status: Ready to Inject"
statusText.TextColor3 = colors.primaryText
statusText.TextScaled = true
statusText.Font = Enum.Font.Gotham
statusText.TextXAlignment = Enum.TextXAlignment.Left
statusText.Parent = statusCard

-- Inject Button dengan gradient dan efek
local injectButton = Instance.new("TextButton")
injectButton.Name = "InjectButton"
injectButton.Size = UDim2.new(1, 0, 0, 60)
injectButton.Position = UDim2.new(0, 0, 0, 90)
injectButton.BackgroundColor3 = colors.primaryAccent
injectButton.BorderSizePixel = 0
injectButton.Text = "🚀 INJECT YOUR DAYS"
injectButton.TextColor3 = Color3.new(1, 1, 1)
injectButton.TextScaled = true
injectButton.Font = Enum.Font.GothamBold
injectButton.TextStrokeTransparency = 0.5
injectButton.TextStrokeColor3 = Color3.new(0, 0, 0)
injectButton.Parent = contentFrame

local injectCorner = Instance.new("UICorner")
injectCorner.CornerRadius = UDim.new(0, 15)
injectCorner.Parent = injectButton

-- Button gradient
local buttonGradient = Instance.new("UIGradient")
buttonGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, colors.primaryAccent),
    ColorSequenceKeypoint.new(1, colors.secondaryAccent)
}
buttonGradient.Rotation = 45
buttonGradient.Parent = injectButton

-- Button border
local buttonBorder = Instance.new("UIStroke")
buttonBorder.Color = colors.secondaryAccent
buttonBorder.Transparency = 0.5
buttonBorder.Thickness = 2
buttonBorder.Parent = injectButton

-- Enhanced Progress Bar
local progressFrame = Instance.new("Frame")
progressFrame.Name = "ProgressFrame"
progressFrame.Size = UDim2.new(1, 0, 0, 12)
progressFrame.Position = UDim2.new(0, 0, 0, 170)
progressFrame.BackgroundColor3 = colors.cardBg
progressFrame.BackgroundTransparency = 0.3
progressFrame.BorderSizePixel = 0
progressFrame.Visible = false
progressFrame.Parent = contentFrame

local progressCorner = Instance.new("UICorner")
progressCorner.CornerRadius = UDim.new(0, 6)
progressCorner.Parent = progressFrame

local progressBar = Instance.new("Frame")
progressBar.Name = "ProgressBar"
progressBar.Size = UDim2.new(0, 0, 1, 0)
progressBar.Position = UDim2.new(0, 0, 0, 0)
progressBar.BackgroundColor3 = colors.successAccent
progressBar.BorderSizePixel = 0
progressBar.Parent = progressFrame

local progressBarCorner = Instance.new("UICorner")
progressBarCorner.CornerRadius = UDim.new(0, 6)
progressBarCorner.Parent = progressBar

-- Progress gradient
local progressGradient = Instance.new("UIGradient")
progressGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, colors.successAccent),
    ColorSequenceKeypoint.new(1, colors.primaryAccent)
}
progressGradient.Rotation = 0
progressGradient.Parent = progressBar

-- Progress text
local progressText = Instance.new("TextLabel")
progressText.Name = "ProgressText"
progressText.Size = UDim2.new(1, 0, 1, 0)
progressText.Position = UDim2.new(0, 0, 0, 0)
progressText.BackgroundTransparency = 1
progressText.Text = "0%"
progressText.TextColor3 = colors.primaryText
progressText.TextScaled = true
progressText.Font = Enum.Font.GothamBold
progressText.Parent = progressFrame

-- Drag functionality
local dragging = false
local dragStart = nil
local startPos = nil

local function updatePosition(input)
    local delta = input.Position - dragStart
    mainFrame.Position = UDim2.new(0, startPos.X.Offset + delta.X, 0, startPos.Y.Offset + delta.Y)
end

titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

titleBar.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        updatePosition(input)
    end
end)

titleBar.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

-- Enhanced button hover effects dengan scale dan glow
local function createAdvancedHoverEffect(button, originalColor, hoverColor)
    local originalSize = button.Size
    local hoverSize = UDim2.new(originalSize.X.Scale, originalSize.X.Offset + 5, originalSize.Y.Scale, originalSize.Y.Offset + 5)
    
    button.MouseEnter:Connect(function()
        -- Scale effect
        local scaleTween = TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Back), {Size = hoverSize})
        scaleTween:Play()
        
        -- Color effect
        local colorTween = TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = hoverColor})
        colorTween:Play()
        
        -- Glow effect
        if button:FindFirstChild("UIStroke") then
            local glowTween = TweenService:Create(button.UIStroke, TweenInfo.new(0.2), {Transparency = 0})
            glowTween:Play()
        end
    end)
    
    button.MouseLeave:Connect(function()
        -- Scale effect
        local scaleTween = TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Back), {Size = originalSize})
        scaleTween:Play()
        
        -- Color effect
        local colorTween = TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = originalColor})
        colorTween:Play()
        
        -- Glow effect
        if button:FindFirstChild("UIStroke") then
            local glowTween = TweenService:Create(button.UIStroke, TweenInfo.new(0.2), {Transparency = 0.5})
            glowTween:Play()
        end
    end)
end

createAdvancedHoverEffect(injectButton, colors.primaryAccent, colors.secondaryAccent)
createAdvancedHoverEffect(closeButton, colors.dangerAccent, Color3.fromRGB(255, 100, 100))

-- Enhanced Inject function dengan animasi yang lebih smooth
local function performInject()
    -- Update status dengan icon
    statusText.Text = "🔄 Status: Injecting..."
    statusText.TextColor3 = colors.warningAccent
    
    -- Show progress bar
    progressFrame.Visible = true
    progressText.Text = "0%"
    
    -- Disable button during injection
    injectButton.Text = "⏳ INJECTING..."
    injectButton.BackgroundColor3 = colors.mutedText
    
    -- Animate progress bar dengan counter
    local progressTween = TweenService:Create(progressBar, TweenInfo.new(3, Enum.EasingStyle.Quad), {Size = UDim2.new(1, 0, 1, 0)})
    progressTween:Play()
    
    -- Progress counter animation
    local progressCounter = 0
    local progressConnection
    progressConnection = RunService.Heartbeat:Connect(function()
        progressCounter = progressCounter + 1
        local percentage = math.min(math.floor((progressCounter / 180) * 100), 100)
        progressText.Text = percentage .. "%"
        
        if percentage >= 100 then
            progressConnection:Disconnect()
        end
    end)
    
    -- Simulate injection process
    wait(1.5)
    
    -- Execute the injection
    local success, error = pcall(function()
        game.RobloxReplicatedStorage.ContactListIrisInviteTeleport:FireServer(126509999114328, "", "MfX8OnrMZpb2SFLn3ztiZafWS4CMo0WHppurgFPGc-hYyI5nD3MAAA2")
    end)
    
    wait(1.5)
    
    if success then
        statusText.Text = "✅ Status: Injection Successful!"
        statusText.TextColor3 = colors.successAccent
        
        -- Success animation dengan glow
        local successTween = TweenService:Create(mainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Bounce), {Size = UDim2.new(0, 420, 0, 300)})
        successTween:Play()
        
        -- Glow effect
        local glowTween = TweenService:Create(glow, TweenInfo.new(0.5, Enum.EasingStyle.Quad), {ImageTransparency = 0.3})
        glowTween:Play()
        
        -- Reset button
        injectButton.Text = "✅ INJECTED SUCCESSFULLY"
        injectButton.BackgroundColor3 = colors.successAccent
        
    else
        statusText.Text = "❌ Status: Injection Failed!"
        statusText.TextColor3 = colors.dangerAccent
        
        -- Error animation dengan shake
        local errorTween = TweenService:Create(mainFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {Position = UDim2.new(0.5, -210, 0.5, -150)})
        errorTween:Play()
        wait(0.1)
        local errorTween2 = TweenService:Create(mainFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {Position = UDim2.new(0.5, -190, 0.5, -130)})
        errorTween2:Play()
        wait(0.1)
        local errorTween3 = TweenService:Create(mainFrame, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {Position = UDim2.new(0.5, -200, 0.5, -140)})
        errorTween3:Play()
        
        -- Reset button
        injectButton.Text = "❌ INJECTION FAILED"
        injectButton.BackgroundColor3 = colors.dangerAccent
    end
    
    wait(3)
    progressFrame.Visible = false
    progressBar.Size = UDim2.new(0, 0, 1, 0)
    progressText.Text = "0%"
    
    -- Reset button
    injectButton.Text = "🚀 INJECT YOUR DAYS"
    injectButton.BackgroundColor3 = colors.primaryAccent
end

-- Connect inject button
injectButton.MouseButton1Click:Connect(performInject)

-- Enhanced close button functionality
closeButton.MouseButton1Click:Connect(function()
    -- Close animation dengan fade out
    local closeTween = TweenService:Create(fullScreenFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad), {BackgroundTransparency = 1})
    local mainCloseTween = TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back), {Size = UDim2.new(0, 0, 0, 0)})
    
    closeTween:Play()
    mainCloseTween:Play()
    
    closeTween.Completed:Connect(function()
        screenGui:Destroy()
    end)
end)

-- Enhanced initial animation
fullScreenFrame.BackgroundTransparency = 1
mainFrame.Size = UDim2.new(0, 0, 0, 0)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)

-- Staggered animation sequence
local openTween = TweenService:Create(fullScreenFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad), {BackgroundTransparency = 0})
local mainTween = TweenService:Create(mainFrame, TweenInfo.new(0.8, Enum.EasingStyle.Back), {Size = UDim2.new(0, 400, 0, 280)})
local positionTween = TweenService:Create(mainFrame, TweenInfo.new(0.8, Enum.EasingStyle.Back), {Position = UDim2.new(0.5, -200, 0.5, -140)})

openTween:Play()
mainTween:Play()
positionTween:Play()

-- Start background particles
spawn(function()
    while screenGui.Parent do
        createBackgroundParticles()
        wait(3)
    end
end)

-- Responsive design untuk berbagai ukuran layar
local function updateResponsiveDesign()
    local viewportSize = workspace.CurrentCamera.ViewportSize
    
    if viewportSize.X < 600 then
        -- Mobile layout
        mainFrame.Size = UDim2.new(0.9, 0, 0, 250)
        mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    elseif viewportSize.X < 1000 then
        -- Tablet layout
        mainFrame.Size = UDim2.new(0, 350, 0, 260)
        mainFrame.Position = UDim2.new(0.5, -175, 0.5, -130)
    else
        -- Desktop layout
        mainFrame.Size = UDim2.new(0, 400, 0, 280)
        mainFrame.Position = UDim2.new(0.5, -200, 0.5, -140)
    end
end

-- Update responsive design saat viewport berubah
workspace.CurrentCamera:GetPropertyChangedSignal("ViewportSize"):Connect(updateResponsiveDesign)
updateResponsiveDesign()

-- Keyboard shortcuts
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    
    if input.KeyCode == Enum.KeyCode.Escape then
        -- Close dengan ESC
        closeButton.MouseButton1Click:Fire()
    elseif input.KeyCode == Enum.KeyCode.Return or input.KeyCode == Enum.KeyCode.Space then
        -- Inject dengan Enter/Space
        performInject()
    end
end)

print("🚀 99 MALAM INJECT PRO LOADED - Ready to inject your days with style!")
